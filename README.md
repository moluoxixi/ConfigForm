# @moluoxixi/create-app

> åŸºäºåŸå­åŒ–åˆ†å±‚å åŠ æ¶æ„çš„é¡¹ç›®è„šæ‰‹æ¶ CLI

## å¿«é€Ÿå¼€å§‹

```bash
# ä½¿ç”¨ npx
npx @moluoxixi/create-app

# ä½¿ç”¨ pnpm
pnpm create @moluoxixi/app

# ä½¿ç”¨ npm
npm create @moluoxixi/app
```

## ç‰¹æ€§

- ğŸš€ **åŸå­åŒ–åˆ†å±‚æ¶æ„** - L0/L1/L2 ä¸‰å±‚æ¨¡æ¿ï¼Œçµæ´»ç»„åˆ
- ğŸ“¦ **å¤šæ¡†æ¶æ”¯æŒ** - Vue 3ã€React 18
- ğŸ¨ **å¤š UI åº“** - Element Plusã€Ant Design Vueã€Ant Design
- ğŸ“ **TypeScript** - å…¨é¢çš„ç±»å‹æ”¯æŒ
- ğŸ›£ï¸ **è·¯ç”±ç³»ç»Ÿ** - Vue Router / React Router DOMï¼Œæ”¯æŒæ‰‹åŠ¨é…ç½®å’Œæ–‡ä»¶ç³»ç»Ÿè·¯ç”±
- ğŸ—„ï¸ **çŠ¶æ€ç®¡ç†** - Pinia (Vue) / Zustand (React)ï¼Œæ ¹æ®æ¡†æ¶è‡ªåŠ¨å¯ç”¨
- ğŸŒ **å›½é™…åŒ–** - å¯é€‰ vue-i18n / i18next æ”¯æŒ
- ğŸ“Š **é”™è¯¯ç›‘æ§** - å¯é€‰ Sentry é›†æˆ
- ğŸ”§ **è§„èŒƒé…ç½®** - å¯é€‰ ESLint + Commitlint + Husky
- ğŸ§© **å¾®å‰ç«¯æ”¯æŒ** - å¯é€‰ Qiankun é›†æˆ

## ğŸ“‹ å¼€å‘è®¡åˆ’

ä»¥ä¸‹åŠŸèƒ½æ­£åœ¨è§„åˆ’ä¸­ï¼Œæ¬¢è¿è´¡çŒ®ï¼š

- [ ] ğŸ”„ **Ant Design Vue æ¨¡æ¿é‡æ„** - ä¼˜åŒ– ant-design-vue æ¨¡æ¿ç»“æ„å’Œé…ç½®
- [ ] ğŸ”„ **Ant Design æ¨¡æ¿é‡æ„** - ä¼˜åŒ– ant-design æ¨¡æ¿ç»“æ„å’Œé…ç½®
- [x] ğŸ”§ **main.ts.ejs è§£è€¦** - å°† Vue å…¥å£æ–‡ä»¶æ¨¡æ¿è§£è€¦ï¼Œæé«˜å¯ç»´æŠ¤æ€§
- [x] ğŸ”§ **main.tsx.ejs è§£è€¦** - å°† React å…¥å£æ–‡ä»¶æ¨¡æ¿è§£è€¦ï¼Œæé«˜å¯ç»´æŠ¤æ€§
- [x] ğŸ”§ **vite.config.ts.ejs è§£è€¦** - å°† Vite é…ç½®æ¨¡æ¿è§£è€¦ï¼Œæé«˜å¯ç»´æŠ¤æ€§

## å†…ç½®ä¾èµ–

æ‰€æœ‰ç”Ÿæˆçš„é¡¹ç›®éƒ½åŒ…å«ä»¥ä¸‹æ ¸å¿ƒä¾èµ–ï¼š

| ä¾èµ–åŒ… | ç”¨é€” |
|--------|------|
| `@moluoxixi/eslint-config` | ESLint ç»Ÿä¸€é…ç½® |
| `@moluoxixi/vite-config` | Vite æ„å»ºé…ç½® |
| `@moluoxixi/ajax-package` | HTTP è¯·æ±‚å°è£… |
| `@moluoxixi/class-names` | CSS ç±»åå·¥å…· |
| `@moluoxixi/css-module-global-root-plugin` | CSS Module æ’ä»¶ |

## æºç ç›®å½•ç»“æ„

æœ¬é¡¹ç›®é‡‡ç”¨æ¸…æ™°çš„æ¨¡å—åŒ–æ¶æ„ï¼Œå°†ä¸šåŠ¡é€»è¾‘å’Œå·¥å…·å‡½æ•°åˆ†ç¦»ï¼š

```
src/
â”œâ”€â”€ commands/              # CLI å‘½ä»¤
â”‚   â”œâ”€â”€ index.ts          # å‘½ä»¤å¯¼å‡º
â”‚   â””â”€â”€ create.ts         # create å‘½ä»¤å®ç°
â”‚
â”œâ”€â”€ constants/             # å¸¸é‡å®šä¹‰
â”‚   â””â”€â”€ index.ts          # æ–‡ä»¶å¸¸é‡ã€è·¯å¾„å¸¸é‡ç­‰
â”‚
â”œâ”€â”€ core/                 # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ¨¡å—
â”‚   â”œâ”€â”€ index.ts          # æ ¸å¿ƒæ¨¡å—å¯¼å‡º
â”‚   â”œâ”€â”€ feature.ts        # Feature ç®¡ç†ï¼ˆæ‰«æã€æ˜ å°„ã€æ¸²æŸ“ï¼‰
â”‚   â”œâ”€â”€ prompts.ts        # äº¤äº’å¼é—®ç­”ï¼ˆæ”¶é›†ç”¨æˆ·é…ç½®ï¼‰
â”‚   â””â”€â”€ template.ts       # æ¨¡æ¿æ¸²æŸ“ï¼ˆæ–‡ä»¶å¤åˆ¶ã€åˆå¹¶ï¼‰
â”‚
â”œâ”€â”€ generators/            # é¡¹ç›®ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ index.ts          # ç”Ÿæˆå™¨å¯¼å‡º
â”‚   â””â”€â”€ project.ts       # é¡¹ç›®ç”Ÿæˆæ ¸å¿ƒé€»è¾‘
â”‚
â”œâ”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ index.ts          # å…¬å…±ç±»å‹å¯¼å‡º
â”‚   â”œâ”€â”€ features.ts       # Feature ç›¸å…³ç±»å‹
â”‚   â””â”€â”€ packageJson.ts    # package.json ç±»å‹
â”‚
â”œâ”€â”€ utils/                 # çº¯å·¥å…·å‡½æ•°ï¼ˆæ— ä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ index.ts          # å·¥å…·å‡½æ•°å¯¼å‡º
â”‚   â”œâ”€â”€ deepMerge.ts      # æ·±åº¦åˆå¹¶å¯¹è±¡
â”‚   â”œâ”€â”€ file.ts           # æ–‡ä»¶æ“ä½œï¼ˆè¯»å†™ã€å¤åˆ¶ã€è·¯å¾„å¤„ç†ï¼‰
â”‚   â”œâ”€â”€ install.ts        # ä¾èµ–å®‰è£…ã€Git åˆå§‹åŒ–
â”‚   â”œâ”€â”€ npmConfig.ts      # npm é…ç½®è¯»å–
â”‚   â””â”€â”€ sortDependencies.ts # ä¾èµ–æ’åº
â”‚
â”œâ”€â”€ index.ts              # CLI å…¥å£
â””â”€â”€ test.ts               # æµ‹è¯•è„šæœ¬
```

### ç›®å½•èŒè´£è¯´æ˜

- **`commands/`** - CLI å‘½ä»¤å®ç°ï¼Œå¤„ç†ç”¨æˆ·äº¤äº’å’Œæµç¨‹æ§åˆ¶
- **`core/`** - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…å« feature ç®¡ç†ã€æ¨¡æ¿æ¸²æŸ“ã€ç”¨æˆ·é…ç½®æ”¶é›†
- **`generators/`** - é¡¹ç›®ç”Ÿæˆå™¨ï¼Œæ ¹æ®é…ç½®ç”Ÿæˆå®Œæ•´çš„é¡¹ç›®ç»“æ„
- **`utils/`** - çº¯å·¥å…·å‡½æ•°ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œå¯ç‹¬ç«‹ä½¿ç”¨
- **`types/`** - TypeScript ç±»å‹å®šä¹‰ï¼Œç¡®ä¿ç±»å‹å®‰å…¨
- **`constants/`** - å¸¸é‡å®šä¹‰ï¼Œé›†ä¸­ç®¡ç†é…ç½®å€¼

### è®¾è®¡åŸåˆ™

1. **èŒè´£åˆ†ç¦»** - ä¸šåŠ¡é€»è¾‘åœ¨ `core/`ï¼Œå·¥å…·å‡½æ•°åœ¨ `utils/`
2. **æ¨¡å—åŒ–** - æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼Œä¾¿äºç»´æŠ¤å’Œæµ‹è¯•
3. **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
4. **å¯æ‰©å±•æ€§** - é€šè¿‡æ–‡ä»¶ç³»ç»Ÿæ‰«æè‡ªåŠ¨å‘ç° featuresï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

## ç”Ÿæˆçš„é¡¹ç›®ç»“æ„

ç”Ÿæˆçš„é¡¹ç›®ç»“æ„ç¤ºä¾‹ï¼š

```
my-project/
â”œâ”€â”€ .husky/              # Git Hooks
â”œâ”€â”€ scripts/             # æ„å»ºè„šæœ¬
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ apis/            # API è¯·æ±‚å±‚
â”‚   â”œâ”€â”€ assets/          # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/      # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ constants/       # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ directives/      # Vue æŒ‡ä»¤
â”‚   â”œâ”€â”€ layouts/         # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ locales/         # å¤šè¯­è¨€æ–‡ä»¶
â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ router/          # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ stores/          # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.vue          # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts          # å…¥å£æ–‡ä»¶
â”œâ”€â”€ .env                 # ç¯å¢ƒå˜é‡
â”œâ”€â”€ package.json         # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.ts       # Vite é…ç½®
â”œâ”€â”€ eslint.config.ts     # ESLint é…ç½®ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ tsconfig.json        # TypeScript é…ç½®
```

## å‘½ä»¤

```bash
# å¼€å‘
pnpm dev

# æ„å»º
pnpm build

# æ„å»ºå¹¶æ‰“åŒ…
pnpm build:zip

# ç±»å‹æ£€æŸ¥
pnpm type-check

# ä»£ç æ£€æŸ¥
pnpm lint:eslint

# æäº¤ä»£ç 
pnpm commit
```

## é…ç½®é€‰é¡¹

### å¿…é€‰é…ç½®

| é€‰é¡¹ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| é¡¹ç›®åç§° | string | é¡¹ç›®åç§°ï¼Œç”¨äº package.json |
| æ¡†æ¶ | vue / react | å‰ç«¯æ¡†æ¶ |
| UI åº“ | element-plus / ant-design-vue / ant-design | UI ç»„ä»¶åº“ |
| è·¯ç”±æ¨¡å¼ | manualRoutes / pageRoutes | æ‰‹åŠ¨é…ç½®æˆ–æ–‡ä»¶ç³»ç»Ÿè·¯ç”± |
| åŒ…ç®¡ç†å™¨ | pnpm / npm / yarn | åŒ…ç®¡ç†å™¨ |

### å¯é€‰åŠŸèƒ½

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| å›½é™…åŒ– | boolean | true | æ˜¯å¦å¯ç”¨å¤šè¯­è¨€æ”¯æŒ (vue-i18n / i18next) |
| é”™è¯¯ç›‘æ§ | boolean | false | æ˜¯å¦é›†æˆ Sentry |
| ESLint | boolean | true | æ˜¯å¦å¯ç”¨ ESLint ä»£ç è§„èŒƒæ£€æŸ¥ |
| Git Hooks | boolean | true | æ˜¯å¦å¯ç”¨ Husky + Commitlint |


## å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/moluoxixi/create-app.git

# å®‰è£…ä¾èµ–
pnpm install

# è¿è¡Œæµ‹è¯•
pnpm test

# æ„å»º
pnpm build
```

## è®¸å¯è¯

MIT
